/* W95 主题基础样式（公共、布局、通用变量等） */

/* ========================================
   公共背景样式类 (Common Background Styles)
   ======================================== */

/* 应用背景小圆点样式 - 正常显示 */
.w95-app-background {
    background-image: 
        radial-gradient(circle, rgba(71, 71, 71, 0.11) 1px, transparent 1px);
    background-size: 25px 25px;
}

/* 应用背景小圆点样式 - 导出时隐藏 */
.w95-app-background-export {
    background-image: 
        radial-gradient(circle, rgba(71, 71, 71, 0) 1px, transparent 1px);
    background-size: 25px 25px;
}

/* 面板容器透明背景 */
.w95-panels-transparent {
    background-color: transparent !important;
}

/* ========================================
   公共块样式类 (Common Block Styles)
   ======================================== */

/* 块预览通用样式 */
.orca-block-preview {
    max-width: unset !important;
}

.orca-block-preview-interactive {
    box-shadow: none; 
}

/* 复选框样式 */
.w95-checkbox-completed {
    opacity: 0.6;  /* 复选框透明度 */
    text-decoration: line-through;  /* 添加复选框删除线 */
}

/* 无阴影样式 */
.w95-no-shadow {
    box-shadow: none;
}

/* 编辑器占位符高度 */
.orca-block-editor-placeholder { 
    height: 250px; 
}



/* 最近文档列表关闭按钮交互 https://github.com/cordinGH/orca-tune-theme */
.orca-recents-menu-item>.orca-recents-menu-close {
    order: -1;
    padding: .125rem;
    margin-right: .25rem;
    margin-left: -.25rem;
    transition-duration: .1s;
}
.orca-recents-menu-item:not(:hover)>.orca-recents-menu-close { opacity: 0.1; }
.orca-recents-menu-item:hover>.orca-recents-menu-close:not(:hover) { opacity: .3; }




/* 图文环绕  https://github.com/cordinGH/orca-tune-theme */   
/* 使用说明：图文环绕是虎鲸中的标签名，当图片块打上该标签后，子块会以图文环绕的形式呈现 */
.orca-repr-image:has(>.orca-repr-main [data-name="图文环绕"]) {
    display: flow-root;

    &>.orca-repr-main {
        float: left;
        margin-right: 1rem;
        /* em是为了适配悬浮预览 */
        /* 先消去为了translate而扩充的宽度 */
        max-width: max(calc(100% - var(--orca-block-indent) * var(--orca-spacing-indent) - 15em), 12em);
    }

    &>.orca-repr-main .orca-image-wrapper {
        /* em是为了适配悬浮预览 */
        min-width: 8em;
    }

    &>.orca-repr-main .orca-image-image {
        min-width: 100%;
    }

    /* ----------------------------------------------------- */
    /* 贴合子块内容起始位置 */
    &>.orca-repr-children {
        margin-left: calc(var(--orca-block-indent) * var(--orca-spacing-indent));
    }

    /* 提供更大的渲染空间以便适配translate */
    width:calc(100% + calc(var(--orca-block-indent) * var(--orca-spacing-indent)));

    &>.orca-repr-children>* {
        display: flow-root;
        translate: calc(-1 * (var(--orca-block-indent) - 1) * var(--orca-spacing-indent));
    }
    /* ----------------------------------------------------- */ 

    /* 让图片内容层叠级别上去，不被子块遮挡 */
    &>.orca-repr-main>.orca-repr-image-content>:is(.orca-no-editable-container, .orca-tags) {
        z-index: 1;
        position: relative;
    }
}

